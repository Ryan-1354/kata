<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>
<body>
 <div class="root"><ul></ul></div>
<input type="text" class="InputByAdd">
<button class="buttonByAdd" type=" button">新增</button>

<script>
    const data = [
                {
                    id:1,
                    content:'我是卡斯柏'
                },
                {
                    id:2,
                    content:'我是傑克'
                },
                {
                    id:3,
                    content:'我是小美人魚'    
                },
            ];
//渲染畫面
const root=document.querySelector('.root');
const buttonByAdd=document.querySelector('.buttonByAdd');
const InputByAdd=document.querySelector('.InputByAdd');

function render(){
    let template='';
    data.forEach(item=>{
        template+=`<li>${item.content}<button class='buttonByRemove' type='button data-id='${item.id}'>刪除</button></li>`;
        root.innerHTML=template;
    })
    //刪除渲染資料
    const buttonByRemove=document.querySelectorAll('.buttonByRemove');
    buttonByRemove.forEach(item=>{
        item.addEventListener('click', function(){
            const id=item.id;
            removeItem(id);
        })
    })
};
render();

//新增資料在畫面
buttonByAdd.addEventListener('click',e=>{
    let val =InputByAdd.value;
    addItem(val);
    InputByAdd.value='';
})




//新增data
let setId=data.length;
function addItem(content){
    setId++;
    data.push({
        id:setId,
        content,
    });
    render();
};

//刪除data
function removeItem(id){
const index=data.findIndex(item=>item.id===id);
data.splice(index,1);
render();
};

</script>

    
</body>
</html>